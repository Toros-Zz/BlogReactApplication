{"version":3,"sources":["api/api.ts","api/posts.ts","store/actions.ts","store/selectors.ts","components/Loader/Loader.tsx","components/ModalEdit/ModalEdit.tsx","components/PostsList/PostsList.tsx","api/comments.ts","components/CommentList/CommentList.tsx","components/NewCommentForm/NewCommentForm.tsx","components/PostDetails/PostDetails.tsx","components/AddPost/AddPost.tsx","App.tsx","store/index.ts","index.tsx"],"names":["BASE_URL","getData","getFrom","a","fetch","response","json","Error","removeData","removeFrom","method","addData","addTo","data","headers","body","JSON","stringify","getPosts","getSelectedPostById","postId","editPost","id","editData","SET_ALL_POSTS","SET_ACTIVE_POST_ID","SET_COMMENTS","SET_MODEL_EDIT","setAllPosts","payloud","type","setActivePostId","setCommentsList","setEditModel","getAllPosts","state","posts","getActivePostId","activePostId","getCommentsList","comments","hasEditModal","isEditModel","Loader","className","ModalEdit","dispatch","useDispatch","isOpen","useSelector","useState","postTitle","setPostTitle","postBody","setPostBody","getPost","post","title","loadPosts","postsFromServer","useEffect","savePost","handlerCloseModal","handlerInput","event","currentTarget","value","name","Modal","setAppElement","onRequestClose","onSubmit","preventDefault","trim","htmlFor","required","placeholder","onChange","onClick","PostsList","isEditModal","isLoader","setLoader","loadAllData","handlerOpenDetails","handlerEditPost","handlerRemovePost","map","classNames","getComments","CommentList","loadComments","commentsFromServer","handlerDeleteComment","comment","NewCommentForm","commentBody","setCommentBody","pushNewComment","PostDetails","isHideComment","setHideComment","setPost","loadPostDetails","postFromServer","length","isHide","AddPost","pushPost","App","to","path","element","initialState","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc1291cb.chunk.js","sourcesContent":["const BASE_URL = 'https://bloggy-api.herokuapp.com';\n\nexport async function getData<T>(getFrom: string): Promise<T> {\n  try {\n    const response = await fetch(`${BASE_URL}${getFrom}`);\n\n    return await response.json();\n  } catch (error) {\n    throw new Error(`error ${error}`);\n  }\n}\n\nexport async function removeData<T>(removeFrom: string): Promise<T> {\n  try {\n    const response = await fetch(`${BASE_URL}${removeFrom}`, {\n      method: 'DELETE',\n    });\n\n    return await response.json();\n  } catch (error) {\n    throw new Error(`error ${error}`);\n  }\n}\n\nexport async function addData<T>(addTo: string, data: T) {\n  const response = await fetch(`${BASE_URL}${addTo}`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify({ ...data }),\n  });\n\n  return response.json();\n}\n\nexport async function editData<T>(addTo: string, data: T) {\n  const response = await fetch(`${BASE_URL}${addTo}`, {\n    method: 'PUT',\n    headers: {\n      'Content-type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify({ ...data }),\n  });\n\n  return response.json();\n}\n","import {\n  addData,\n  editData,\n  getData,\n  removeData,\n} from './api';\n\nexport function getPosts(): Promise<Post[]> {\n  return getData<Post[]>('/posts');\n}\n\nexport function getSelectedPostById(postId: number): Promise<Post> {\n  return getData<Post>(`/posts/${postId}`);\n}\n\nexport function addPost(data: Post): Promise<Post> {\n  return addData<Post>('/posts', data);\n}\n\nexport function editPost(data: Post, id: number): Promise<Post> {\n  return editData<Post>(`/posts/${id}`, data);\n}\n\nexport function removePost(id: number): Promise<Post> {\n  return removeData<Post>(`/posts/${id}`);\n}\n","export const SET_ALL_POSTS = 'SET_ALL_POSTS';\nexport const SET_ACTIVE_POST_ID = 'SET_ACTIVE_POST_ID';\nexport const SET_COMMENTS = 'SET_COMMENTS';\nexport const SET_MODEL_EDIT = 'SET_MODEL_EDIT';\n\nexport const setAllPosts = (payloud: Post[]) => ({ type: SET_ALL_POSTS, payloud });\nexport const setActivePostId = (payloud: number) => ({ type: SET_ACTIVE_POST_ID, payloud });\nexport const setCommentsList = (payloud: CommentPost[]) => ({ type: SET_COMMENTS, payloud });\nexport const setEditModel = (payloud: boolean) => ({ type: SET_MODEL_EDIT, payloud });\n","import { RootState } from '.';\n\nexport const getAllPosts = (state: RootState) => state.posts;\nexport const getActivePostId = (state: RootState) => state.activePostId;\nexport const getCommentsList = (state: RootState) => state.comments;\nexport const hasEditModal = (state: RootState) => state.isEditModel;\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useEffect, useState } from 'react';\nimport './ModalEdit.scss';\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setActivePostId, setAllPosts, setEditModel } from '../../store/actions';\nimport { getActivePostId, hasEditModal } from '../../store/selectors';\nimport { editPost, getPosts, getSelectedPostById } from '../../api/posts';\n\nexport const ModalEdit: React.FC = () => {\n  const dispatch = useDispatch();\n  const isOpen = useSelector(hasEditModal);\n  const activePostId = useSelector(getActivePostId);\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n\n  const getPost = async () => {\n    const post = await getSelectedPostById(activePostId);\n\n    setPostTitle(post.title);\n    setPostBody(post.body);\n  };\n\n  const loadPosts = async () => {\n    const postsFromServer = await getPosts();\n\n    dispatch(setActivePostId(0));\n    dispatch(setAllPosts(postsFromServer));\n  };\n\n  useEffect(() => {\n    getPost();\n  }, []);\n\n  const savePost = async () => {\n    const post = {\n      id: activePostId,\n      title: postTitle,\n      body: postBody,\n    };\n\n    await editPost(post, activePostId);\n    loadPosts();\n  };\n\n  const isValid = () => {\n    if (!postBody.trim()) {\n      setPostBody(postBody.trim());\n\n      return false;\n    }\n\n    if (!postTitle.trim()) {\n      setPostTitle(postTitle.trim());\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const handlerCloseModal = () => {\n    dispatch(setEditModel(false));\n  };\n\n  const handlerSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (isValid()) {\n      savePost();\n      dispatch(setEditModel(false));\n    }\n  };\n\n  const handlerInput = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { value, name } = event.currentTarget;\n\n    switch (name) {\n      case 'body':\n        setPostBody(value);\n        break;\n      case 'title':\n        setPostTitle(value);\n        break;\n      default:\n    }\n  };\n\n  Modal.setAppElement('#root');\n\n  return (\n    <div>\n      <Modal\n        isOpen={isOpen}\n        onRequestClose={handlerCloseModal}\n        className=\"Modal\"\n      >\n        <h2 className=\"subtitle Modal__title\">\n          Edit product\n        </h2>\n\n        <form\n          className=\"Modal__form\"\n          onSubmit={handlerSubmit}\n        >\n          <label htmlFor=\"title\">\n            Title:\n            &nbsp;\n            <input\n              className=\"input\"\n              type=\"text\"\n              required\n              placeholder=\"Title\"\n              name=\"title\"\n              id=\"title\"\n              value={postTitle}\n              onChange={handlerInput}\n            />\n          </label>\n          <label htmlFor=\"body\">\n            Body:\n            &nbsp;\n            <textarea\n              className=\"textarea Modal__textarea\"\n              required\n              placeholder=\"Body\"\n              name=\"body\"\n              id=\"body\"\n              value={postBody}\n              onChange={handlerInput}\n            />\n          </label>\n          <section className=\"Modal__buttons\">\n            <button\n              type=\"submit\"\n              className=\"button\"\n            >\n              Save\n            </button>\n            <button\n              type=\"button\"\n              className=\"button\"\n              onClick={handlerCloseModal}\n            >\n              Close\n            </button>\n          </section>\n        </form>\n      </Modal>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { getPosts, removePost } from '../../api/posts';\nimport { setActivePostId, setAllPosts, setEditModel } from '../../store/actions';\nimport { getActivePostId, getAllPosts, hasEditModal } from '../../store/selectors';\nimport { Loader } from '../Loader';\nimport { ModalEdit } from '../ModalEdit';\nimport './PostsList.scss';\n\nexport const PostsList: React.FC = () => {\n  const dispatch = useDispatch();\n  const posts = useSelector(getAllPosts);\n  const isEditModal = useSelector(hasEditModal);\n  const activePostId = useSelector(getActivePostId);\n  const [isLoader, setLoader] = useState(false);\n\n  const loadPosts = async () => {\n    const postsFromServer = await getPosts();\n\n    dispatch(setAllPosts(postsFromServer));\n  };\n\n  const loadAllData = async () => {\n    setLoader(true);\n    await loadPosts();\n    setLoader(false);\n  };\n\n  useEffect(() => {\n    loadAllData();\n  }, []);\n\n  const handlerOpenDetails = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const { value } = event.currentTarget;\n\n    if (activePostId === +value) {\n      dispatch(setActivePostId(0));\n    } else {\n      dispatch(setActivePostId(+value));\n    }\n  };\n\n  const handlerEditPost = (event: React.MouseEvent<HTMLButtonElement>) => {\n    dispatch(setActivePostId(+event.currentTarget.value));\n    dispatch(setEditModel(true));\n  };\n\n  const handlerRemovePost = async (event: React.MouseEvent<HTMLButtonElement>) => {\n    await removePost(+event.currentTarget.value);\n    loadPosts();\n  };\n\n  if (isLoader) {\n    return (\n      <Loader />\n    );\n  }\n\n  return (\n    <div className=\"PostsList\">\n      <h2 className=\"subtitle PostsList__subtitle\">\n        Posts:\n      </h2>\n      <ul className=\"PostsList__list\">\n        {posts.map(post => (\n          <li key={post.id} className=\"PostsList__item\">\n            <section className=\"PostsList__post\">\n              <h3 className=\"subtitle\">\n                {post.title}\n              </h3>\n              <div className=\"PostsList__body\">\n                {post.body}\n              </div>\n            </section>\n            <button\n              type=\"button\"\n              className={classNames(\n                'button PostsList__button-open',\n                { 'is-active': activePostId === post.id },\n              )}\n              value={post.id}\n              onClick={handlerOpenDetails}\n            >\n              {\n                activePostId === post.id\n                  ? <>Close</>\n                  : <>Open</>\n              }\n            </button>\n            <div className=\"PostsList__buttons\">\n              <button\n                type=\"button\"\n                className=\"button\"\n                value={post.id}\n                onClick={handlerEditPost}\n              >\n                Edit\n              </button>\n              <button\n                type=\"button\"\n                className=\"button\"\n                value={post.id}\n                onClick={handlerRemovePost}\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      {\n        isEditModal && <ModalEdit />\n      }\n    </div>\n  );\n};\n","import { addData, getData, removeData } from './api';\n\nexport function getComments(postId: number): Promise<CommentPost[]> {\n  return getData<CommentPost[]>(`/comments?postId=${postId}`);\n}\n\nexport function removeComment(commentId: number): Promise<CommentPost> {\n  return removeData<CommentPost>(`/comments/${commentId}`);\n}\n\nexport function addComment(data: CommentPost): Promise<CommentPost> {\n  return addData<CommentPost>('/comments', data);\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getComments, removeComment } from '../../api/comments';\nimport { setCommentsList } from '../../store/actions';\nimport { getActivePostId, getCommentsList } from '../../store/selectors';\nimport './CommentList.scss';\n\nexport const CommentList: React.FC = () => {\n  const dispatch = useDispatch();\n  const activePostId = useSelector(getActivePostId);\n  const comments = useSelector(getCommentsList);\n\n  const loadComments = async (id: number) => {\n    const commentsFromServer = await getComments(id);\n\n    dispatch(setCommentsList(commentsFromServer));\n  };\n\n  const handlerDeleteComment = async (event: React.MouseEvent<HTMLButtonElement>) => {\n    const { value } = event.currentTarget;\n\n    await removeComment(+value);\n    loadComments(activePostId);\n  };\n\n  return (\n    <ul className=\"CommentList\">\n      {\n        comments.map(comment => (\n          <li\n            className=\"CommentList__item\"\n            key={comment.id}\n          >\n            <button\n              type=\"button\"\n              className=\"CommentList__button button\"\n              value={comment.id}\n              onClick={handlerDeleteComment}\n            >\n              X\n            </button>\n            <p>\n              {comment.body}\n            </p>\n          </li>\n        ))\n      }\n    </ul>\n  );\n};\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addComment, getComments } from '../../api/comments';\nimport { setCommentsList } from '../../store/actions';\nimport { getActivePostId } from '../../store/selectors';\nimport './NewCommentForm.scss';\n\nexport const NewCommentForm: React.FC = () => {\n  const dispatch = useDispatch();\n  const activePostId = useSelector(getActivePostId);\n\n  const [commentBody, setCommentBody] = useState('');\n\n  const loadComments = async (id: number) => {\n    const commentsFromServer = await getComments(id);\n\n    dispatch(setCommentsList(commentsFromServer));\n  };\n\n  const hendlerInputs = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setCommentBody(event.currentTarget.value);\n  };\n\n  const resetFields = () => {\n    setCommentBody('');\n  };\n\n  const isValid = () => {\n    if (!commentBody.trim()) {\n      setCommentBody(commentBody.trim());\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const pushNewComment = async () => {\n    await addComment({\n      postId: activePostId,\n      body: commentBody,\n    });\n\n    if (isValid()) {\n      resetFields();\n      loadComments(activePostId);\n    }\n  };\n\n  const handlerSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    pushNewComment();\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={handlerSubmit}\n    >\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"textarea\"\n          value={commentBody}\n          onChange={hendlerInputs}\n          required\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getComments } from '../../api/comments';\nimport { getSelectedPostById } from '../../api/posts';\nimport { setCommentsList } from '../../store/actions';\nimport { getActivePostId, getCommentsList } from '../../store/selectors';\nimport { CommentList } from '../CommentList';\nimport { Loader } from '../Loader';\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\n\nexport const PostDetails: React.FC = () => {\n  const dispatch = useDispatch();\n  const activePostId = useSelector(getActivePostId);\n  const comments = useSelector(getCommentsList);\n\n  const [isHideComment, setHideComment] = useState(true);\n  const [post, setPost] = useState<Post | null>(null);\n  const [isLoader, setLoader] = useState(false);\n\n  const loadComments = async (id: number) => {\n    const commentsFromServer = await getComments(id);\n\n    dispatch(setCommentsList(commentsFromServer));\n  };\n\n  const loadPostDetails = async (id: number) => {\n    setLoader(true);\n    const postFromServer = await getSelectedPostById(id);\n\n    loadComments(activePostId);\n    setPost(postFromServer);\n    setLoader(false);\n  };\n\n  useEffect(() => {\n    if (activePostId) {\n      loadPostDetails(activePostId);\n    }\n  },\n  [activePostId]);\n\n  const handlerHideComment = () => {\n    setHideComment((isHide) => (!isHide));\n  };\n\n  if (isLoader) {\n    return (\n      <Loader />\n    );\n  }\n\n  return (\n    <div className=\"PostDetails\">\n      <h2 className=\"subtitle PostDetails__subtitle\">\n        Post details:\n      </h2>\n      {\n        post\n          ? (\n            <>\n              <section className=\"PostDetails__post\">\n                <h3 className=\"subtitle PostDetails__post-title\">\n                  {post.title}\n                </h3>\n                <div className=\"PostDetails__post-body\">\n                  {post.body}\n                </div>\n              </section>\n\n              {\n                !!comments.length\n                && (\n                  <section className=\"PostDetails__comments\">\n                    <button\n                      type=\"button\"\n                      className=\"button PostDetails__hide\"\n                      onClick={handlerHideComment}\n                    >\n                      {\n                        isHideComment\n                          ? (<>Hide </>)\n                          : (<>Show </>)\n                      }\n                      {comments.length}\n                      <> comments</>\n                    </button>\n                    {\n                      isHideComment\n                      && <CommentList />\n                    }\n                  </section>\n                )\n              }\n\n              <section>\n                <div className=\"PostDetails__form\">\n                  <NewCommentForm />\n                </div>\n              </section>\n            </>\n          )\n          : (\n            <span>\n              Can not find post details\n            </span>\n          )\n      }\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { addPost } from '../../api/posts';\nimport './AddPost.scss';\n\nexport const AddPost: React.FC = () => {\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n\n  const resetFields = () => {\n    setPostTitle('');\n    setPostBody('');\n  };\n\n  const isValid = () => {\n    if (!postBody.trim()) {\n      setPostBody(postBody.trim());\n\n      return false;\n    }\n\n    if (!postTitle.trim()) {\n      setPostTitle(postTitle.trim());\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const pushPost = async () => {\n    const post = {\n      title: postTitle,\n      body: postBody,\n    };\n\n    if (isValid()) {\n      await addPost(post);\n      resetFields();\n    }\n  };\n\n  const handlerSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    pushPost();\n  };\n\n  const handlerInput = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { value, name } = event.currentTarget;\n\n    switch (name) {\n      case 'body':\n        setPostBody(value);\n        break;\n      case 'title':\n        setPostTitle(value);\n        break;\n      default:\n    }\n  };\n\n  return (\n    <form\n      className=\"AddPost__form\"\n      onSubmit={handlerSubmit}\n    >\n      <label htmlFor=\"title\">\n        Title:\n        &nbsp;\n        <input\n          className=\"input AddPost__input\"\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          required\n          value={postTitle}\n          placeholder=\"Type title here\"\n          onChange={handlerInput}\n        />\n      </label>\n      <label htmlFor=\"body\">\n        Body:\n        &nbsp;\n        <textarea\n          className=\"textarea AddPost__textarea\"\n          required\n          id=\"body\"\n          name=\"body\"\n          value={postBody}\n          placeholder=\"Type body here\"\n          onChange={handlerInput}\n        />\n      </label>\n      <button\n        type=\"submit\"\n        className=\"button AddPost__button\"\n      >\n        Add post\n      </button>\n    </form>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Link, Route, Routes } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { AddPost } from './components/AddPost';\nimport { getActivePostId } from './store/selectors';\n\nexport const App: React.FC = () => {\n  const activePostId = useSelector(getActivePostId);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <h1 className=\"title App__title\">\n          React/Redux Blog\n        </h1>\n        <Link\n          to=\"/\"\n          className=\"button App__button\"\n        >\n          Posts\n        </Link>\n        <Link\n          to=\"/addpost\"\n          className=\"button App__button\"\n        >\n          Add post\n        </Link>\n      </header>\n      <main className=\"App__main\">\n        <Routes>\n          <Route\n            path=\"/addpost\"\n            element={(\n              <>\n                <div className=\"App__content\">\n                  <AddPost />\n                </div>\n              </>\n            )}\n          />\n          <Route\n            path=\"/\"\n            element={(\n              <>\n                <div className=\"App__sidebar\">\n                  <PostsList />\n                </div>\n\n                <div className=\"App__content\">\n                  {\n                    activePostId\n                      ? <PostDetails />\n                      : (\n                        <h3 className=\"subtitle\">\n                          Select post\n                        </h3>\n                      )\n                  }\n                </div>\n              </>\n            )}\n          />\n        </Routes>\n      </main>\n    </div>\n  );\n};\n","import { createStore, AnyAction } from 'redux';\nimport {\n  SET_ACTIVE_POST_ID,\n  SET_ALL_POSTS,\n  SET_COMMENTS,\n  SET_MODEL_EDIT,\n} from './actions';\n\nexport type RootState = {\n  posts: Post[];\n  activePostId: number,\n  comments: CommentPost[];\n  isEditModel: boolean;\n};\n\nexport const initialState: RootState = {\n  posts: [],\n  activePostId: 0,\n  comments: [],\n  isEditModel: false,\n};\n\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case SET_MODEL_EDIT:\n      return { ...state, isEditModel: action.payloud };\n\n    case SET_COMMENTS:\n      return { ...state, comments: action.payloud };\n\n    case SET_ALL_POSTS:\n      return { ...state, posts: action.payloud };\n\n    case SET_ACTIVE_POST_ID:\n      return { ...state, activePostId: action.payloud };\n\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(\n  rootReducer,\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { App } from './App';\nimport './index.scss';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}