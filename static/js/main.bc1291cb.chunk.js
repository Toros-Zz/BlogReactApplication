(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{32:function(t,e,n){},34:function(t,e,n){},36:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(9),a=n.n(r),s=n(5),o=n(10),i=(n(32),n(3)),u=n(2),l=n.n(u),b=n(4),j=n(6),p=n(21),d=n.n(p),f=n(7),h="https://bloggy-api.herokuapp.com";function m(t){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(h).concat(e));case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("error ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function x(t){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(h).concat(e),{method:"DELETE"});case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("error ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function y(t,e){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(l.a.mark((function t(e,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(h).concat(e),{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(Object(f.a)({},n))});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(l.a.mark((function t(e,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(h).concat(e),{method:"PUT",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(Object(f.a)({},n))});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return m("/posts")}function k(t){return m("/posts/".concat(t))}function g(t,e){return function(t,e){return N.apply(this,arguments)}("/posts/".concat(e),t)}var P="SET_ALL_POSTS",S="SET_ACTIVE_POST_ID",T="SET_COMMENTS",C="SET_MODEL_EDIT",E=function(t){return{type:P,payloud:t}},A=function(t){return{type:S,payloud:t}},L=function(t){return{type:T,payloud:t}},D=function(t){return{type:C,payloud:t}},F=function(t){return t.posts},M=function(t){return t.activePostId},I=function(t){return t.comments},q=function(t){return t.isEditModel},B=(n(34),n(1)),J=function(){return Object(B.jsx)("div",{className:"Loader",children:Object(B.jsx)("div",{className:"Loader__content"})})},R=(n(36),n(16)),H=n.n(R),U=function(){var t=Object(s.b)(),e=Object(s.c)(q),n=Object(s.c)(M),r=Object(c.useState)(""),a=Object(j.a)(r,2),o=a[0],i=a[1],u=Object(c.useState)(""),p=Object(j.a)(u,2),d=p[0],f=p[1],h=function(){var t=Object(b.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(n);case 2:e=t.sent,i(e.title),f(e.body);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,t(A(0)),t(E(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){h()}),[]);var O=function(){var t=Object(b.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:n,title:o,body:d},t.next=3,g(e,n);case 3:m();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){t(D(!1))},v=function(t){var e=t.currentTarget,n=e.value;switch(e.name){case"body":f(n);break;case"title":i(n)}};return H.a.setAppElement("#root"),Object(B.jsx)("div",{children:Object(B.jsxs)(H.a,{isOpen:e,onRequestClose:x,className:"Modal",children:[Object(B.jsx)("h2",{className:"subtitle Modal__title",children:"Edit product"}),Object(B.jsxs)("form",{className:"Modal__form",onSubmit:function(e){e.preventDefault(),(d.trim()?o.trim()||(i(o.trim()),0):(f(d.trim()),0))&&(O(),t(D(!1)))},children:[Object(B.jsxs)("label",{htmlFor:"title",children:["Title: \xa0",Object(B.jsx)("input",{className:"input",type:"text",required:!0,placeholder:"Title",name:"title",id:"title",value:o,onChange:v})]}),Object(B.jsxs)("label",{htmlFor:"body",children:["Body: \xa0",Object(B.jsx)("textarea",{className:"textarea Modal__textarea",required:!0,placeholder:"Body",name:"body",id:"body",value:d,onChange:v})]}),Object(B.jsxs)("section",{className:"Modal__buttons",children:[Object(B.jsx)("button",{type:"submit",className:"button",children:"Save"}),Object(B.jsx)("button",{type:"button",className:"button",onClick:x,children:"Close"})]})]})]})})},V=(n(46),function(){var t=Object(s.b)(),e=Object(s.c)(F),n=Object(s.c)(q),r=Object(s.c)(M),a=Object(c.useState)(!1),o=Object(j.a)(a,2),i=o[0],u=o[1],p=function(){var e=Object(b.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,t(E(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,p();case 3:u(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]);var h=function(e){var n=e.currentTarget.value;t(A(r===+n?0:+n))},m=function(e){t(A(+e.currentTarget.value)),t(D(!0))},O=function(){var t=Object(b.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=+e.currentTarget.value,x("/posts/".concat(n));case 2:p();case 3:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();return i?Object(B.jsx)(J,{}):Object(B.jsxs)("div",{className:"PostsList",children:[Object(B.jsx)("h2",{className:"subtitle PostsList__subtitle",children:"Posts:"}),Object(B.jsx)("ul",{className:"PostsList__list",children:e.map((function(t){return Object(B.jsxs)("li",{className:"PostsList__item",children:[Object(B.jsxs)("section",{className:"PostsList__post",children:[Object(B.jsx)("h3",{className:"subtitle",children:t.title}),Object(B.jsx)("div",{className:"PostsList__body",children:t.body})]}),Object(B.jsx)("button",{type:"button",className:d()("button PostsList__button-open",{"is-active":r===t.id}),value:t.id,onClick:h,children:r===t.id?Object(B.jsx)(B.Fragment,{children:"Close"}):Object(B.jsx)(B.Fragment,{children:"Open"})}),Object(B.jsxs)("div",{className:"PostsList__buttons",children:[Object(B.jsx)("button",{type:"button",className:"button",value:t.id,onClick:m,children:"Edit"}),Object(B.jsx)("button",{type:"button",className:"button",value:t.id,onClick:O,children:"Delete"})]})]},t.id)}))}),n&&Object(B.jsx)(U,{})]})});function X(t){return m("/comments?postId=".concat(t))}n(47);var z=function(){var t=Object(s.b)(),e=Object(s.c)(M),n=Object(s.c)(I),c=function(){var e=Object(b.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n);case 2:c=e.sent,t(L(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var t=Object(b.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.currentTarget.value,t.next=3,x("/comments/".concat(+r));case 3:c(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsx)("ul",{className:"CommentList",children:n.map((function(t){return Object(B.jsxs)("li",{className:"CommentList__item",children:[Object(B.jsx)("button",{type:"button",className:"CommentList__button button",value:t.id,onClick:r,children:"X"}),Object(B.jsx)("p",{children:t.body})]},t.id)}))})},G=(n(48),function(){var t=Object(s.b)(),e=Object(s.c)(M),n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],o=r[1],i=function(){var e=Object(b.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n);case 2:c=e.sent,t(L(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("/comments",{postId:e,body:a});case 2:(a.trim()||(o(a.trim()),0))&&(o(""),i(e));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)("form",{className:"NewCommentForm",onSubmit:function(t){t.preventDefault(),u()},children:[Object(B.jsx)("div",{className:"form-field",children:Object(B.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"textarea",value:a,onChange:function(t){o(t.currentTarget.value)},required:!0})}),Object(B.jsx)("button",{type:"submit",className:"NewCommentForm__button button",children:"Add a comment"})]})}),K=(n(49),function(){var t=Object(s.b)(),e=Object(s.c)(M),n=Object(s.c)(I),r=Object(c.useState)(!0),a=Object(j.a)(r,2),o=a[0],i=a[1],u=Object(c.useState)(null),p=Object(j.a)(u,2),d=p[0],f=p[1],h=Object(c.useState)(!1),m=Object(j.a)(h,2),O=m[0],x=m[1],v=function(){var e=Object(b.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n);case 2:c=e.sent,t(L(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var t=Object(b.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,k(n);case 3:c=t.sent,v(e),f(c),x(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){e&&y(e)}),[e]);return O?Object(B.jsx)(J,{}):Object(B.jsxs)("div",{className:"PostDetails",children:[Object(B.jsx)("h2",{className:"subtitle PostDetails__subtitle",children:"Post details:"}),d?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("section",{className:"PostDetails__post",children:[Object(B.jsx)("h3",{className:"subtitle PostDetails__post-title",children:d.title}),Object(B.jsx)("div",{className:"PostDetails__post-body",children:d.body})]}),!!n.length&&Object(B.jsxs)("section",{className:"PostDetails__comments",children:[Object(B.jsxs)("button",{type:"button",className:"button PostDetails__hide",onClick:function(){i((function(t){return!t}))},children:[o?Object(B.jsx)(B.Fragment,{children:"Hide "}):Object(B.jsx)(B.Fragment,{children:"Show "}),n.length,Object(B.jsx)(B.Fragment,{children:" comments"})]}),o&&Object(B.jsx)(z,{})]}),Object(B.jsx)("section",{children:Object(B.jsx)("div",{className:"PostDetails__form",children:Object(B.jsx)(G,{})})})]}):Object(B.jsx)("span",{children:"Can not find post details"})]})}),Q=(n(50),function(){var t=Object(c.useState)(""),e=Object(j.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(""),s=Object(j.a)(a,2),o=s[0],i=s[1],u=function(){var t=Object(b.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={title:n,body:o},!(o.trim()?n.trim()||(r(n.trim()),0):(i(o.trim()),0))){t.next=5;break}return t.next=4,y("/posts",e);case 4:r(""),i("");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(t){var e=t.currentTarget,n=e.value;switch(e.name){case"body":i(n);break;case"title":r(n)}};return Object(B.jsxs)("form",{className:"AddPost__form",onSubmit:function(t){t.preventDefault(),u()},children:[Object(B.jsxs)("label",{htmlFor:"title",children:["Title: \xa0",Object(B.jsx)("input",{className:"input AddPost__input",type:"text",id:"title",name:"title",required:!0,value:n,placeholder:"Type title here",onChange:p})]}),Object(B.jsxs)("label",{htmlFor:"body",children:["Body: \xa0",Object(B.jsx)("textarea",{className:"textarea AddPost__textarea",required:!0,id:"body",name:"body",value:o,placeholder:"Type body here",onChange:p})]}),Object(B.jsx)("button",{type:"submit",className:"button AddPost__button",children:"Add post"})]})}),W=function(){var t=Object(s.c)(M);return Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)("header",{className:"App__header",children:[Object(B.jsx)("h1",{className:"title App__title",children:"React/Redux Blog"}),Object(B.jsx)(o.b,{to:"/",className:"button App__button",children:"Posts"}),Object(B.jsx)(o.b,{to:"/addpost",className:"button App__button",children:"Add post"})]}),Object(B.jsx)("main",{className:"App__main",children:Object(B.jsxs)(i.c,{children:[Object(B.jsx)(i.a,{path:"/addpost",element:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("div",{className:"App__content",children:Object(B.jsx)(Q,{})})})}),Object(B.jsx)(i.a,{path:"/",element:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:"App__sidebar",children:Object(B.jsx)(V,{})}),Object(B.jsx)("div",{className:"App__content",children:t?Object(B.jsx)(K,{}):Object(B.jsx)("h3",{className:"subtitle",children:"Select post"})})]})})]})})]})},Y=(n(51),n(22)),Z={posts:[],activePostId:0,comments:[],isEditModel:!1},$=Object(Y.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(f.a)(Object(f.a)({},t),{},{isEditModel:e.payloud});case T:return Object(f.a)(Object(f.a)({},t),{},{comments:e.payloud});case P:return Object(f.a)(Object(f.a)({},t),{},{posts:e.payloud});case S:return Object(f.a)(Object(f.a)({},t),{},{activePostId:e.payloud});default:return t}}));a.a.render(Object(B.jsx)(s.a,{store:$,children:Object(B.jsx)(o.a,{children:Object(B.jsx)(W,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.bc1291cb.chunk.js.map